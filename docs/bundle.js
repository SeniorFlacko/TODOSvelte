var app=function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){for(var n in e)t[n]=1;return t}function i(t){t()}function c(t,e){t.appendChild(e)}function r(t,e,n){t.insertBefore(e,n)}function s(t){t.parentNode.removeChild(t)}function o(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function a(t,e,n,i){t.addEventListener(e,n,i)}function u(t,e,n,i){t.removeEventListener(e,n,i)}function d(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function m(t,e){t.data=""+e}function h(t,e,n){t.classList[n?"add":"remove"](e)}function f(){return Object.create(null)}function p(t){t._lock=!0,_(t._beforecreate),_(t._oncreate),_(t._aftercreate),t._lock=!1}function _(t){for(;t&&t.length;)t.shift()()}var g={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var c=n[i];if(!c.__calling)try{c.__calling=!0,c.call(this,e)}finally{c.__calling=!1}}},on:function(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(e({},t)),this.root._lock||p(this.root)},_recompute:t,_set:function(t){var n=this._state,i={},c=!1;for(var r in t=e(this._staged,t),this._staged={},t)this._differs(t[r],n[r])&&(i[r]=c=!0);c&&(this._state=e(e({},n),t),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:n}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:n})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}};let v;try{v=JSON.parse(localStorage.getItem("todos-svelte"))||[]}catch(t){v=[]}var b,k=(b=13,function(t,e){function n(t){t.which===b&&e.call(this,t)}return t.addEventListener("keydown",n,!1),{destroy(){t.removeEventListener("keydown",n,!1)}}});function x(t,e){return"all"===e||("completed"===e?t.completed:"active"===e?!t.completed:void 0)}var y={blur(t){t.blur()},newTodo(t){if(!this.refs.newTodo.value)return;const{items:e}=this.get();e.push({description:t,completed:!1}),this.set({items:e}),this.refs.newTodo.value=""},edit(t){this.set({editing:t}),document.getElementById(`${t}`).select()},remove(t){const{items:e}=this.get();e.splice(t,1),this.set({items:e})},clearCompleted(){const t=this.get().items.filter(t=>!t.completed);this.set({items:t})},submit(t){const{items:e}=this.get();e[this.get().editing].description=t,this.set({items:e,editing:null})},seleccionar(t){setTimeout(()=>{t.select()},333)},toggleAll(t){const{items:e}=this.get();e.forEach(e=>{e.completed=t}),this.set({items:e})}};function C({changed:t,current:e,previous:n}){if(n&&t.items)try{localStorage.setItem("todos-svelte",JSON.stringify(e.items))}catch(t){}}function N(t){const{component:e}=this._svelte;e.cancel()}function F(t){const{component:e}=this._svelte;e.submit(this.value)}function w(t){const{component:e,ctx:n}=this._svelte;e.remove(n.index)}function A(t){const{component:e,ctx:n}=this._svelte;e.edit(n.index)}function T(t,e,n){const i=Object.create(t);return i.item=e[n],i.each_value=e,i.index=n,i}function E(t,e){var n,i,f,p,_,g,v,b,k,x=e.item.description;function y(){e.each_value[e.index].completed=f.checked,t.set({items:e.items})}var C=e.editing===e.index&&L(t,e);return{c(){n=o("li"),i=o("div"),f=o("input"),p=l("\r\n                        "),_=o("label"),g=l(x),v=l("\r\n                        "),b=o("button"),k=l("\r\n                    "),C&&C.c(),a(f,"change",y),f.className="toggle",d(f,"type","checkbox"),_._svelte={component:t,ctx:e},a(_,"dblclick",A),b._svelte={component:t,ctx:e},a(b,"click",w),b.className="destroy",i.className="view",h(n,"completed",e.item.completed),h(n,"editing",e.editing===e.index)},m(t,s){r(t,n,s),c(n,i),c(i,f),f.checked=e.item.completed,c(i,p),c(i,_),c(_,g),c(i,v),c(i,b),c(n,k),C&&C.m(n,null)},p(i,c){e=c,i.items&&(f.checked=e.item.completed),i.items&&x!==(x=e.item.description)&&m(g,x),_._svelte.ctx=e,b._svelte.ctx=e,e.editing===e.index?C?C.p(i,e):((C=L(t,e)).c(),C.m(n,null)):C&&(C.d(1),C=null),i.items&&h(n,"completed",e.item.completed),i.editing&&h(n,"editing",e.editing===e.index)},d(t){t&&s(n),u(f,"change",y),u(_,"dblclick",A),u(b,"click",w),C&&C.d()}}}function L(t,e){var n,i,c;return{c(){(n=o("input"))._svelte={component:t},i=k.call(t,n,function(e){t.blur(n)}),a(n,"blur",F),a(n,"escape",N),n.value=c=e.item.description,n.id=e.index,n.className="edit",n.autofocus=!0},m(t,e){r(t,n,e),n.focus()},p(t,e){t.items&&c!==(c=e.item.description)&&(n.value=c)},d(t){t&&s(n),i.destroy(),u(n,"blur",F),u(n,"escape",N)}}}function O(t,e){var n,i=x(e.item,e.currentFilter)&&E(t,e);return{c(){i&&i.c(),n=document.createComment("")},m(t,e){i&&i.m(t,e),r(t,n,e)},p(e,c){x(c.item,c.currentFilter)?i?i.p(e,c):((i=E(t,c)).c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(t){i&&i.d(t),t&&s(n)}}}function S(t,e){var n;function i(e){t.clearCompleted()}return{c(){(n=o("button")).textContent="Limpiar Completados",a(n,"click",i),n.className="clear-completed"},m(t,e){r(t,n,e)},d(t){t&&s(n),u(n,"click",i)}}}function j(t){!function(t,e){t._handlers=f(),t._slots=f(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}(this,t),this.refs={},this._state=e({currentFilter:"all",items:v},t.data),this._recompute({items:1},this._state),this._intro=!!t.intro,this._handlers.state=[C],C.call(this,{changed:n({},this._state),current:this._state}),this._fragment=function(t,e){var n,f,p,_,g,v,b,x,y,C,N,F,w,A,E,L,j,I,B,J,q,M,P,Q,$,z,D,G,H,K,R;function U(e){t.toggleAll(this.checked)}for(var V=e.items,W=[],X=0;X<V.length;X+=1)W[X]=O(t,T(e,V,X));function Y(e){t.set({currentFilter:"all"})}function Z(e){t.set({currentFilter:"active"})}function tt(e){t.set({currentFilter:"completed"})}var et=e.numCompleted&&S(t);return{c(){n=o("header"),(f=o("h1")).textContent="Por hacer...",p=l("\r\n    "),_=o("input"),v=l("\r\n\r\n"),b=o("section"),x=o("input"),C=l("\r\n    "),(N=o("label")).textContent="Marcar todas como completadas",F=l("\r\n\r\n    "),w=o("ul");for(var i=0;i<W.length;i+=1)W[i].c();A=l("\r\n\r\n\r\n    "),E=o("footer"),L=o("span"),j=o("strong"),I=l(e.numActive),B=l(" left"),J=l("\r\n\r\n        "),q=o("ul"),M=o("li"),(P=o("a")).textContent="Todos",Q=l("\r\n            "),$=o("li"),(z=o("a")).textContent="Activos",D=l("\r\n            "),G=o("li"),(H=o("a")).textContent="Completados",K=l("\r\n\r\n        "),et&&et.c(),g=k.call(t,_,function(e){t.newTodo(_.value)}),_.className="new-todo",_.placeholder="Que necesitas hacer?",_.autofocus=!0,n.className="header",a(x,"change",U),x.id="toggle-all",x.className="toggle-all",x.checked=y=e.numCompleted===e.items.length,d(x,"type","checkbox"),N.htmlFor="toggle-all",w.className="todo-list",L.className="todo-count",a(P,"click",Y),h(P,"selected","all"===e.currentFilter),a(z,"click",Z),h(z,"selected","active"===e.currentFilter),a(H,"click",tt),h(H,"selected","completed"===e.currentFilter),q.className="filters",E.className="footer",b.className="main"},m(e,i){r(e,n,i),c(n,f),c(n,p),c(n,_),t.refs.newTodo=_,r(e,v,i),r(e,b,i),c(b,x),c(b,C),c(b,N),c(b,F),c(b,w);for(var s=0;s<W.length;s+=1)W[s].m(w,null);c(b,A),c(b,E),c(E,L),c(L,j),c(j,I),c(L,B),c(E,J),c(E,q),c(q,M),c(M,P),c(q,Q),c(q,$),c($,z),c(q,D),c(q,G),c(G,H),c(E,K),et&&et.m(E,null),R=!0,_.focus()},p(e,n){if((e.numCompleted||e.items)&&y!==(y=n.numCompleted===n.items.length)&&(x.checked=y),e.items||e.currentFilter||e.editing){V=n.items;for(var i=0;i<V.length;i+=1){const c=T(n,V,i);W[i]?W[i].p(e,c):(W[i]=O(t,c),W[i].c(),W[i].m(w,null))}for(;i<W.length;i+=1)W[i].d(1);W.length=V.length}e.numActive&&m(I,n.numActive),e.currentFilter&&(h(P,"selected","all"===n.currentFilter),h(z,"selected","active"===n.currentFilter),h(H,"selected","completed"===n.currentFilter)),n.numCompleted?et||((et=S(t)).c(),et.m(E,null)):et&&(et.d(1),et=null)},i(t,e){R||this.m(t,e)},o:i,d(e){e&&s(n),g.destroy(),t.refs.newTodo===_&&(t.refs.newTodo=null),e&&(s(v),s(b)),u(x,"change",U),function(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(W,e),u(P,"click",Y),u(z,"click",Z),u(H,"click",tt),et&&et.d()}}}(this,this._state),this.root._oncreate.push(()=>{this.fire("update",{changed:n({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),p(this)),this._intro=!0}return e(j.prototype,g),e(j.prototype,y),j.prototype._recompute=function(t,e){t.items&&(this._differs(e.numActive,e.numActive=function({items:t}){return t.filter(t=>!t.completed).length}(e))&&(t.numActive=!0),this._differs(e.numCompleted,e.numCompleted=function({items:t}){return t.filter(t=>t.completed).length}(e))&&(t.numCompleted=!0))},new j({target:document.querySelector(".todoapp"),data:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
